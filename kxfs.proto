syntax = "proto2";

package kxfs;

message Attr {
    required uint32 mode = 1;
    required uint64 size = 2;
    required uint64 mtime = 3;
    optional bytes link = 4;
}

message File {
    required Attr attr = 1;
    optional bytes path = 2;
}

message Req {
    repeated bytes paths = 1;
    repeated int64 args = 2;
}

message Resp {
    optional File file = 2;
    repeated File entries = 3;
}
